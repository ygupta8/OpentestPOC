description: Navigate to Settings Page and verify the behavior of Opt Out link
actors:
  - actor: ACTOR1
    segments:
      - segment: 1
        actions:
        - macro: login
          # args:
          #   username: $data("config").username
          #   password: $data("config").password
        #- description: Click on profile pic in the header
        #   action: org.getopentest.selenium.Click
        #   args:
        #    #locator: {xpath: "//*[@autoid='homepage_profile_picture']"} 
        #    locator: $data("locators").Header.profilepic

        # - description: Click on settings link in the profile dropdown menu
        #   action: org.getopentest.selenium.Click
        #   args:
        #    #locator: {xpath: "//*[@autoid='']"} 
        #    locator: $data("locators").Settings.settings
        - description: Navigate to Settings Page
          action: org.getopentest.selenium.NavigateTo
          args:
           url: https://portal-uat.bcom3test.com/app/settings

        - description: Click on Opt Out link in disabled state in the left nav
          action: org.getopentest.selenium.Click
          args:
           locator: $data("locators/Settings").optout

        - description: Verify that Opt Out link is enabled in left nav
          action: org.getopentest.selenium.AssertElementPresent
          args:
           locator: $data("locators/Settings").optoutenabled 

        - description: Verify that user has landed on Opt Out page
          action: org.getopentest.selenium.AssertElementText
          args:
           locator: $data("locators/Settings").optoutpagetitle
           textContains: hate to see you go
           caseInsensitive: true
           
        
        
